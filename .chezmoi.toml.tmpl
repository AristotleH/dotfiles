{{ $email := promptStringOnce . "git.email" "git email" }}
{{ $name := promptStringOnce . "git.name" "git name" }}
{{ $extraGitConfigs := promptStringOnce . "git.extraConfigs" "extra gitconfig paths (comma-separated, or empty)" }}
{{ $runInstalls := false }}{{/* Package auto-install disabled by default */}}
{{ $extraManifests := promptStringOnce . "shell.extraManifests" "extra shell.yaml paths (comma-separated, or empty)" }}

[data.git]
    email = {{ $email | quote }}
    name = {{ $name | quote }}
    extraConfigs = {{ $extraGitConfigs | quote }}

[data.packages]
    runInstalls = {{ $runInstalls }}

[data.shell]
    extraManifests = {{ $extraManifests | quote }}

# Platform detection
[data.platform]
    os = {{ .chezmoi.os | quote }}
    arch = {{ .chezmoi.arch | quote }}
    {{- if eq .chezmoi.os "darwin" }}
    type = "macos"
    {{- else if eq .chezmoi.os "windows" }}
    type = "windows"
    {{- else if eq .chezmoi.os "linux" }}
    # Will be refined by distribution
    type = "linux"
    {{- else }}
    type = "unknown"
    {{- end }}
