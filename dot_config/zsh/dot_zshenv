#!/bin/zsh

# =============================================================================
# ZSH Environment Configuration
# =============================================================================
# This file is sourced for ALL shell types (interactive, login, scripts).
# Keep it fast and minimal - only environment variables belong here.

# Set zsh config directory (XDG-compliant location)
export ZDOTDIR=${ZDOTDIR:-$HOME/.config/zsh}

# =============================================================================
# XDG Base Directory Specification
# =============================================================================
# https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html
export XDG_CONFIG_HOME=${XDG_CONFIG_HOME:-$HOME/.config}
export XDG_CACHE_HOME=${XDG_CACHE_HOME:-$HOME/.cache}
export XDG_DATA_HOME=${XDG_DATA_HOME:-$HOME/.local/share}
export XDG_STATE_HOME=${XDG_STATE_HOME:-$HOME/.local/state}
export XDG_RUNTIME_DIR=${XDG_RUNTIME_DIR:-$HOME/.xdg}
export XDG_PROJECTS_DIR=${XDG_PROJECTS_DIR:-$HOME/git}

# =============================================================================
# PATH Configuration
# =============================================================================
# Ensure path arrays do not contain duplicates
typeset -gU cdpath fpath mailpath path

# Set the list of directories that zsh searches for commands
# (N) = null glob - no error if path doesn't exist
path=(
  $HOME/{,s}bin(N)
  $HOME/.local/{,s}bin(N)
  /opt/{homebrew,local}/{,s}bin(N)
  /usr/local/{,s}bin(N)
  $path
)
